@model TrekViewModel

<style>
    /* General Body Styles */
    

    /* Container Styles */
    .container {
        width: 300px;
        background-color: white;
        border: 1px solid #ccc;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        padding: 20px;
        position: relative;
    }

        /* Title Styles */
        .container h2 {
            font-size: 18px;
            margin: 0 0 10px 0;
            color: #333;
        }

        .container h3 {
            font-size: 16px;
            margin: 10px 0;
            color: #555;
        }

    /* Dropdown Styles */
    .dropdown {
        border: 1px solid #ccc;
        display: flex;
        flex-direction: column;
        justify-content: space-evenly;
        border-radius: 5px;
        margin-bottom: 10px;
    }

    /* Dropdown Header Styles */
    .dropdown-header {
        background-color: #f0f0f0;
        padding: 10px;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-weight: bold;
        z-index: 0;
    }

        .dropdown-header span {
            color: #333;
        }

        .dropdown-header i {
            font-size: 16px;
            color: #333;
        }

    /* Dropdown Content Styles */
    .dropdown-content {
        display: none;
        padding: 10px;
        margin-top: 10px;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background-color: white;
        border: 1px solid #ccc;
        border-radius: 5px;
        z-index: 10;
    }

    /* When dropdown is active, show content */
    .dropdown.active .dropdown-content {
        display: block;
    }

    /* Close Button Styles */
    .close-btn {
        position: absolute;
        top: 10px;
        right: 10px;
        cursor: pointer;
        font-size: 18px;
        color: #333;
    }

    /* Button Styles */
    .btn {
        background-color: #4CAF50;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        width: 100%;
        text-align: center;
        margin-top: 20px;
    }

        .btn:hover {
            background-color: #45a049;
        }
</style>

<div class="container">
    <i class="fas fa-times close-btn"></i>
    <h2>Available Dates for @Model.Trek.Name</h2>
    <h3>2025</h3>

    @foreach (var monthGroup in Model.AvailabilityDates)
    {
        <div class="dropdown">
            <div class="dropdown-header" onclick="toggleDropdown(this)">
                <span>@monthGroup.Month</span>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="dropdown-content">
                @foreach (var date in monthGroup.Dates)
                {
                    <p>
                        @date.StartDate.ToString("dd MMM") to @date.EndDate.ToString("dd MMM")
                        <span>AVBL</span>
                    </p>
                }
            </div>
        </div>
        <li class="dropdown">
            <a href="#" class="dropbtn">Categories</a>
            <div class="dropdown-content">
                <a href="/Category/BySeason">Season</a>
                <a href="/Category/ByDuration">Duration</a>
                <a href="/Category/ByMonth">Month</a>
                <a href="/Category/ByDifficulty">Difficulty</a>
                <a href="/Category/ByRegion">Region</a>
            </div>
        </li>
    }

    
</div>

<script>
    // Close the container when close button is clicked
    document.querySelector('.close-btn').addEventListener('click', () => {
        document.querySelector('.container').style.display = 'none';
    });

    // Toggle dropdown visibility
    function toggleDropdown(header) {
        // Find the parent dropdown container of the clicked header
        var dropdown = header.closest('.dropdown');
        dropdown.classList.toggle('active');
    }
</script>
